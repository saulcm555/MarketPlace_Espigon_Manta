# ============================================
# MarketPlace Espigón Manta - Variables de Entorno
# Configuración para Docker Compose
# ============================================

# ==========================================
# General
# ==========================================
NODE_ENV=development

# ==========================================
# Database (Supabase PostgreSQL)
# ==========================================
DB_HOST=aws-0-us-west-1.pooler.supabase.com
DB_PORT=6543
DB_USERNAME=postgres.your-project
DB_PASSWORD=your-password-here
DB_DATABASE=postgres
DB_SCHEMA=public
DB_SCHEMA_AUTH=auth_service
DB_SCHEMA_PAYMENT=public

# ==========================================
# Supabase
# ==========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_BUCKET=marketplace-images

# ==========================================
# JWT Configuration (compartido entre servicios)
# ==========================================
JWT_SECRET=your-super-secret-key-change-this-in-production-min-32-chars
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# Redis (opcional - usa el contenedor interno)
# ==========================================
REDIS_PASSWORD=

# ==========================================
# Payment Service
# ==========================================
PAYMENT_PROVIDER=mock
STRIPE_SECRET_KEY=sk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_secret_here
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
INTERNAL_API_KEY=your-secret-internal-api-key-here

# ==========================================
# WebSocket Service
# ==========================================
WS_SERVICE_URL=http://realtime-service:8080

# ==========================================
# AI Services (MCP Service)
# ==========================================
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# ==========================================
# NOTAS DE CONFIGURACIÓN
# ==========================================
#
# 1. Copia este archivo como .env en la carpeta backend/:
#    cp .env.example .env
#
# 2. Configura las credenciales de Supabase:
#    - DB_HOST, DB_USERNAME, DB_PASSWORD
#    - SUPABASE_URL, SUPABASE_KEY
#
# 3. Genera un JWT_SECRET fuerte:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 4. Genera un INTERNAL_API_KEY:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 5. Si usas Stripe, configura:
#    - STRIPE_SECRET_KEY
#    - STRIPE_WEBHOOK_SECRET
#
# 6. Si usas servicios de IA, configura:
#    - OPENAI_API_KEY
#    - ANTHROPIC_API_KEY
#
# ==========================================
